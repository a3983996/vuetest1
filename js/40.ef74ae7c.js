"use strict";(self["webpackChunksimpletest1"]=self["webpackChunksimpletest1"]||[]).push([[40],{7040:function(t,s,e){e.r(s),e.d(s,{default:function(){return U}});var n=e(3396);const a={class:"container-fluid"};function o(t,s,e,o,i,c){const r=(0,n.up)("Navbar"),u=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(r),(0,n._)("div",a,[(0,n.Wm)(u)])],64)}var i=e(9242);const c={class:"navbar navbar-expand-lg navbar-light bg-light"},r={class:"container-fluid"},u={class:"navbar-nav"},l={class:"nav-item"},h=(0,n.Uk)("產品"),p={class:"nav-item"},d=(0,n.Uk)("訂單"),v={class:"nav-item"},f=(0,n.Uk)("優惠券"),m={class:"nav-item"};function g(t,s,e,a,o,g){const k=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("nav",c,[(0,n._)("div",r,[(0,n._)("ul",u,[(0,n._)("li",l,[(0,n.Wm)(k,{to:"/dashboard/products",class:"nav-link"},{default:(0,n.w5)((()=>[h])),_:1})]),(0,n._)("li",p,[(0,n.Wm)(k,{to:"/dashboard/products",class:"nav-link"},{default:(0,n.w5)((()=>[d])),_:1})]),(0,n._)("li",v,[(0,n.Wm)(k,{to:"/dashboard/products",class:"nav-link"},{default:(0,n.w5)((()=>[f])),_:1})]),(0,n._)("li",m,[(0,n._)("a",{class:"nav-link",href:"#",onClick:s[0]||(s[0]=(0,i.iM)(((...t)=>g.logout&&g.logout(...t)),["prevent"]))},"登出")])])])])}var k={methods:{logout(){const t="https://vue3-course-api.hexschool.io/logout";this.$http.post(t).then((t=>{t.data.success&&this.$router.push("/login")}))}}},b=e(89);const $=(0,b.Z)(k,[["render",g]]);var _=$;function w(t){return{all:t=t||new Map,on:function(s,e){var n=t.get(s);n?n.push(e):t.set(s,[e])},off:function(s,e){var n=t.get(s);n&&(e?n.splice(n.indexOf(e)>>>0,1):t.set(s,[]))},emit:function(s,e){var n=t.get(s);n&&n.slice().map((function(t){t(e)})),(n=t.get("*"))&&n.slice().map((function(t){t(s,e)}))}}}const x=w();var W=x;function y(t,s="更新"){if(t.data.success)W.emit("push-message",{style:"success",title:`${s}成功`});else{const e="string"===typeof t.data.content?[t.data.content]:t.data.content;W.emit("push-message",{style:"danger",title:`${s}失敗`,content:e.join(",")})}}var C={components:{Navbar:_},created(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");t||this.$router.push("/login"),this.$http.defaults.headers.common["Authorization"]=t;const s="https://vue3-course-api.hexschool.io/api/user/check";this.$http.post(s).then((t=>{t.data.success||this.$router.push("/login")}))},provide(){return{emitter:W,pushMessagesState:y}}};const M=(0,b.Z)(C,[["render",o]]);var U=M}}]);
//# sourceMappingURL=40.ef74ae7c.js.map